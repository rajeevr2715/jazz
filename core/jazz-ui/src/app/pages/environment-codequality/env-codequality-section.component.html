<div class="section" [ngSwitch]="sectionStatus">
  <div *ngSwitchCase="'loading'" class="jz-absolute-container">
    <div class="jz-spinner"></div>
  </div>
  <div *ngSwitchCase="'error'" class="section-content">
    <report-issue [request]="errorData.request" [response]="errorData.response" (onRefresh)="refresh()"></report-issue>
  </div>
  <div *ngSwitchCase="'empty'" class="section-content empty-row nodata with-refresh relative">
    <div class="icon-icon-nodata"></div>
    <div><b>Oops, No Data Found</b><br>Doesn't look like there is any data available here.</div>
  </div>
  <div *ngSwitchCase="'resolved'" class="section-content">
    <div class="jz-chart">
      <div class="jz-chart-header">
        <div style="width:30%;"></div>
        <div style="width:30%;" class="jz-text-center">
          <p class="graphtitle">{{utils.hyphenToSpace(selectedMetric?.name)}}</p>
          <p class="graphtitlefilter">{{graphData[metricsIndex].options.headerMessage}}</p>
        </div>
        <div style="width: 30%;" class="jz-text-right">
          <filters [filtersList]="filters"
                   (onSelected)="onFilterSelected($event)"
                   [multiple]='false'
                   [selectedList]="filterSelected"></filters>
        </div>
      </div>
      <div class="jz-chart-content">
        <chartjs-linegraph
            [datasets]="graphData[metricsIndex].datasets"
            [options]="graphData[metricsIndex].options"></chartjs-linegraph>
      </div>

      <div class="jz-chart-footer jz-text-right">
        <a class="sonar-link"
           (click)="sonarLink()">More Details</a>
      </div>

    </div>

    <metrics-carousel [metrics]="graphDataRaw.metrics"
                      [(selected)]="selectedMetric"
                      [(index)]="metricsIndex"></metrics-carousel>
  </div>
</div>
